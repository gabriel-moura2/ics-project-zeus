CREATE TABLE Produto
(
  Id INT NOT NULL,
  Descrição VARCHAR(150) NOT NULL,
  Valor FLOAT NOT NULL,
  PRIMARY KEY (Id)
);

CREATE TABLE Administrador
(
  Id INT NOT NULL,
  Nome VARCHAR(150) NOT NULL,
  Senha VARCHAR(150) NOT NULL,
  Id_Produto INT NOT NULL,
  PRIMARY KEY (Id),
  FOREIGN KEY (Id_Produto) REFERENCES Produto(Id)
);

CREATE TABLE Usuario
(
  Id INT NOT NULL,
  nome VARCHAR(150) NOT NULL,
  senha VARCHAR(150) NOT NULL,
  email VARCHAR(150) NOT NULL,
  Id INT NOT NULL,
  PRIMARY KEY (Id),
  FOREIGN KEY (Id) REFERENCES Usuario(Id),
  UNIQUE (nome, email)
);

CREATE TABLE comentário
(
  descricao INT NOT NULL,
  Id_Usuario INT NOT NULL,
  PRIMARY KEY (Id_Usuario),
  FOREIGN KEY (Id_Usuario) REFERENCES escreve(Id_Usuario)
);

CREATE TABLE escreve
(
  Id_Usuario INT NOT NULL,
  PRIMARY KEY (Id_Usuario),
  FOREIGN KEY (Id_Usuario) REFERENCES Usuario(Id)
);

CREATE TABLE compra
(
  Id_Produto INT NOT NULL,
  Id_Usuario INT NOT NULL,
  PRIMARY KEY (Id_Produto, Id_Usuario),
  FOREIGN KEY (Id_Produto) REFERENCES Produto(Id),
  FOREIGN KEY (Id_Usuario) REFERENCES Usuario(Id)
);

CREATE TABLE possui
(
  Id_Produto INT NOT NULL,
  Id_Usuario INT NOT NULL,
  PRIMARY KEY (Id_Produto),
  FOREIGN KEY (Id_Produto) REFERENCES Produto(Id),
  FOREIGN KEY (Id_Usuario) REFERENCES comentário(Id_Usuario)
);
